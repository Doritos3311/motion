<div class="angle-meter">
    <div class="meter-header">
        <h1 class="meter-title">Medidor de Ángulos</h1>
        <p class="meter-subtitle">Toque y arrastre para medir</p>
    </div>

    <div class="meter-canvas-container">
        <canvas #canvas class="meter-canvas" (mousedown)="startMeasurement($event)" (mousemove)="updateAngle($event)"
            (mouseup)="endMeasurement()" (touchstart)="startMeasurement($event)" (touchmove)="updateAngle($event)"
            (touchend)="endMeasurement()">
        </canvas>
    </div>

    <div class="angle-display">
        <span class="angle-value">{{currentAngle.toFixed(1)}}</span>
        <span class="angle-unit">°</span>
    </div>

    <div class="button-group">
        <button class="button button-primary" (click)="saveAngle()">
            <span>Guardar</span>
        </button>
        <button class="button button-secondary" (click)="clearMeasurement()">
            <span>Reiniciar</span>
        </button>
    </div>

    <div class="saved-angles" *ngIf="savedAngles.length > 0">
        <h3 class="saved-title">Ángulos guardados</h3>
        <ul class="angle-list">
            <li *ngFor="let angle of savedAngles" class="angle-item">
                {{angle.toFixed(1)}}°
                <button class="delete-angle" (click)="deleteAngle(angle)">×</button>
            </li>
        </ul>
    </div>
</div>